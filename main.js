!function(t){var e={};function r(o){if(e[o])return e[o].exports;var a=e[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=e,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(o,a,function(e){return t[e]}.bind(null,a));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="calculator",r(r.s=0)}([function(t,e,r){let o=new(r(1).CalculatorState);function a(){"digit"!==o.state&&document.querySelectorAll("#calculator .operator").forEach(t=>t.classList.remove("active")),"operator"===o.state&&document.querySelectorAll("#calculator .operator").forEach(t=>{o.operator===t.textContent&&t.classList.add("active")}),document.getElementById("display").textContent="error"===o.state?"ðŸ’¥":o.value}document.getElementById("calculator").addEventListener("click",t=>{o=o.takeInput(t.target.textContent),a()}),window.addEventListener("keydown",t=>{o=o.takeInput(8===t.keyCode?"AC":t.key),a()})},function(t,e){const r=t=>".0123456789".includes(t),o=t=>"+-*/".includes(t),a=t=>"="===t,s=t=>"AC"===t,i={"+":1,"-":1,"*":2,"/":2};function n(t,e,r){return{"+":(t,e)=>t+e,"-":(t,e)=>t-e,"*":(t,e)=>t*e,"/":(t,e)=>t/e}[t](e,r)}function l(t,e){if(e.length){const r=n(e[0],...t.slice(-2));return l([...t.slice(0,-2),r],e.slice(1))}return t[0]}class u{constructor(t="init",e="0",r=[],o=[]){this.state=t,this.value=e,this.memory=r,this.operators=o}get operator(){return this.operators[0]}evalDigit(t){return"error"===this.state?this:"init"===this.state?new u("digit","."===t?`0${t}`:t,this.memory,this.operators):"operator"===this.state?new u("digit","."===t?`0${t}`:t,[...this.memory,parseFloat(this.value)],this.operators):"equal"===this.state?new u("digit","."===t?`0${t}`:t,[],[]):new u("digit","."===t&&this.value.includes(".")?this.value:`${this.value}${t}`,this.memory,this.operators)}evalOperator(t){return"error"===this.state?this:"equal"===this.state?new u("operator",this.value,[],[t]):"operator"===this.state||"init"===this.state?new u("operator",this.value,this.memory,[t,...this.operators.slice(1)]):i[t]<=i[this.operators[0]]?new u("operator",l([...this.memory,parseFloat(this.value)],this.operators),[],[t]):new u("operator",this.value,this.memory,[t,...this.operators])}evalEqual(){return"error"!==this.state&&"init"!==this.state&&this.operators.length?"0"===this.value||"0."===this.value&&"/"===this.operators[0]?new u("error"):"operator"===this.state?new u("equal",l([...this.memory,parseFloat(this.value),parseFloat(this.value)],this.operators),[...this.memory,parseFloat(this.value)],this.operators):"equal"===this.state?new u("equal",l([parseFloat(this.value),...this.memory],this.operators),this.memory,this.operators):new u("equal",l([...this.memory,parseFloat(this.value)],this.operators),[parseFloat(this.value)],[this.operators[0]]):this}evalClear(){return new u}takeInput(t){return r(t)?this.evalDigit(t):o(t)?this.evalOperator(t):a(t)?this.evalEqual():s(t)?this.evalClear():this}}t.exports={operate:n,calculate:l,CalculatorState:u}}]);